{% extends "base.html" %}

{% block title %}Vehicles - Stop Sign Nanny{% endblock %}

{% block json_ld %}
<script type="application/ld+json">{{ json_ld | tojson }}</script>
{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; gap: 8px;">
    {# Summary stats #}
    <div id="vehicleSummary" hx-get="/api/vehicles/summary" hx-trigger="load">
        <div class="window">
            <div class="title-bar title-bar-inactive">
                <span class="title-bar-text">Vehicle Classification Summary</span>
            </div>
            <div class="window-body" style="text-align: center; padding: 16px; font-size: 12px; color: var(--text-muted);">
                Loading summary...
            </div>
        </div>
    </div>

    {# Type and Color charts â€” side by side #}
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
        <div id="vehicleTypes" hx-get="/api/vehicles/types" hx-trigger="load">
            <div class="window">
                <div class="title-bar title-bar-inactive"><span class="title-bar-text">Loading...</span></div>
                <div class="window-body" style="text-align: center; padding: 16px; font-size: 12px; color: var(--text-muted);">Loading types...</div>
            </div>
        </div>
        <div id="vehicleColors" hx-get="/api/vehicles/colors" hx-trigger="load">
            <div class="window">
                <div class="title-bar title-bar-inactive"><span class="title-bar-text">Loading...</span></div>
                <div class="window-body" style="text-align: center; padding: 16px; font-size: 12px; color: var(--text-muted);">Loading colors...</div>
            </div>
        </div>
    </div>

    {# Make/Models #}
    <div id="vehicleMakeModels" hx-get="/api/vehicles/make-models" hx-trigger="load">
        <div class="window">
            <div class="title-bar title-bar-inactive"><span class="title-bar-text">Loading...</span></div>
            <div class="window-body" style="text-align: center; padding: 16px; font-size: 12px; color: var(--text-muted);">Loading make/models...</div>
        </div>
    </div>

    {# Gallery #}
    <div id="vehicleGallery" hx-get="/api/vehicles/gallery" hx-trigger="load">
        <div class="window">
            <div class="title-bar title-bar-inactive"><span class="title-bar-text">Loading...</span></div>
            <div class="window-body" style="text-align: center; padding: 16px; font-size: 12px; color: var(--text-muted);">Loading gallery...</div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<style>
    @media (max-width: 768px) {
        div[style*="grid-template-columns: 1fr 1fr"] {
            grid-template-columns: 1fr !important;
        }
    }
</style>
{% endblock %}
