### stopsign_ai – Docker environment variables
# Copy this file to `.env` in the same directory and tweak the values for
# your setup.  Docker Compose automatically loads `.env` so no further
# configuration is necessary.

# ---------------------------------------------------------------------------
# Core infrastructure
# ---------------------------------------------------------------------------
REDIS_URL=redis://redis:6379/0
DB_URL=postgresql://user:password@postgres:5432/stopsign

# ---------------------------------------------------------------------------
# Streams & buffers
# ---------------------------------------------------------------------------
RTSP_URL=rtsp://<tailscale-ip>/stream
RAW_FRAME_KEY=raw_frames
PROCESSED_FRAME_KEY=processed_frames
FRAME_BUFFER_SIZE=500

# ---------------------------------------------------------------------------
# AI model
# ---------------------------------------------------------------------------
YOLO_MODEL_NAME=yolov8n.pt   # lighter CPU-friendly weight
#YOLO_DEVICE=cpu             # uncomment to force CPU when CUDA present

# ---------------------------------------------------------------------------
# Observability & web
# ---------------------------------------------------------------------------
PROMETHEUS_PORT=9100
WEB_SERVER_PORT=8000

# ---------------------------------------------------------------------------
# FFmpeg (optional overrides – defaults work on CPU)
# ---------------------------------------------------------------------------
#FFMPEG_ENCODER=libx264      # GPU: h264_nvenc
#FFMPEG_PRESET=veryfast      # GPU: p4
